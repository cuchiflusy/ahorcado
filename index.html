<!DOCTYPE html>
<html>
<head>
  <title>Juego del Ahorcado</title>
  <style>
    /* Estilos para el contenedor del juego */
    #ahorcado {
      text-align: center;
      margin-top: 20px;
      font-family: Arial, sans-serif;
    }

    /* Estilos para el tablero, letras, botones, etc. */
    #tablero {
      margin-bottom: 20px;
    }

    .palabra {
      font-size: 24px;
      margin-bottom: 10px;
    }

    #muñeco {
      font-size: 20px;
    }

    table {
      margin: 0 auto;
      border-collapse: collapse;
      margin-bottom: 20px;
    }

    th, td {
      padding: 8px;
      border: 1px solid #000;
    }
  </style>
</head>
<body>

<div id="ahorcado">
  <div id="tablero">
    <div class="intentos" id="intentos"></div>
    <div class="palabra" id="palabra"></div>
    <div id="muñeco"></div>
  </div>
  <input type="text" id="letra" maxlength="1" placeholder="Ingresa una letra">
  <button onclick="jugar()">Probar letra</button>
  <button onclick="reiniciar()">Reiniciar</button>
  <table>
    <tr>
      <th>Letras probadas</th>
      <th>Letras falladas</th>
    </tr>
    <tr>
      <td id="letrasProbadas"></td>
      <td id="letrasFalladas"></td>
    </tr>
  </table>
</div>

<script>
let palabra = "casa de apuestas";
let letrasAdivinadas = [];
let letrasFalladas = [];
let intentos = 0;

function mostrarTablero(intentos) {
  let dibujo = [
    " -------",
    " |     |",
    " |     " + (intentos > 0 ? "O" : ""),
    " |    " + (intentos > 2 ? "/|\\" : (intentos > 1 ? "/|" : (intentos > 0 ? " |" : ""))),
    " |    " + (intentos > 4 ? "/" : ""),
    " |    " + (intentos > 5 ? "/ \\" : ""),
    "-+-"
  ];

  let dibujoFinal = dibujo.slice(0, 6).join("\n");
  document.getElementById("muñeco").innerText = dibujoFinal;

  let palabraMostrada = "";
  for (let letra of palabra) {
    if (letrasAdivinadas.includes(letra) || letra === " ") {
      palabraMostrada += letra + " ";
    } else {
      palabraMostrada += "_ ";
    }
  }
  document.getElementById("palabra").innerText = palabraMostrada;

  document.getElementById("letrasProbadas").innerText = letrasAdivinadas.join(", ");
  document.getElementById("letrasFalladas").innerText = letrasFalladas.join(", ");
}

function esLetra(caracter) {
  return /^[a-zA-Z]$/.test(caracter);
}

function letraYaAdivinada(letra) {
  return letrasAdivinadas.includes(letra);
}

function actualizarLetrasAdivinadas(letra) {
  if (palabra.includes(letra)) {
    letrasAdivinadas.push(letra);
  } else {
    letrasFalladas.push(letra);
    intentos++;
  }
}

function juegoTerminado() {
  return intentos >= 6 || palabraCompleta();
}

function palabraCompleta() {
  return palabra.split('').every(letra => letrasAdivinadas.includes(letra) || letra === " ");
}

function jugar() {
  let letraUsuario = document.getElementById("letra").value.toLowerCase();

  if (!esLetra(letraUsuario)) {
    alert("Entrada inválida. Ingresa una letra.");
    return;
  }

  if (letraYaAdivinada(letraUsuario)) {
    alert("¡Ya has intentado con esa letra! Prueba otra.");
    return;
  }

  actualizarLetrasAdivinadas(letraUsuario);
  mostrarTablero(intentos);

  if (juegoTerminado()) {
    let mensaje = intentos === 6 ? "¡Oh no! ¡Has perdido!" : "¡Felicidades! ¡Has ganado!";
    alert(mensaje);
  }
}

function reiniciar() {
  letrasAdivinadas = [];
  letrasFalladas = [];
  intentos = 0;
  mostrarTablero(intentos);
}
mostrarTablero(intentos);
</script>

</body>
</html>
