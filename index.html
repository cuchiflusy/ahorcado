<!DOCTYPE html>
<html>
<head>
  <title>Juego del Ahorcado</title>
  <style>
    /* Estilos para el contenedor del juego */
    #ahorcado {
      text-align: center;
      margin-top: 20px;
    }

    /* Estilos para el tablero, letras, botones, etc. */
    #tablero {
      margin-bottom: 20px;
    }

    .palabra {
      font-size: 24px;
      margin-bottom: 10px;
    }
  </style>
</head>
<body>

<div id="ahorcado">
  <div id="tablero">
    <div class="intentos" id="intentos"></div>
    <div class="palabra" id="palabra"></div>
  </div>
  <input type="text" id="letra" maxlength="1" placeholder="Ingresa una letra">
  <button onclick="jugar()">Probar letra</button>
  <button onclick="reiniciar()">Reiniciar</button>
</div>

<script>
let palabra = "casa de apuestas";
let letrasAdivinadas = [];
let intentos = 0;
let juegoTerminado = false;

function mostrarTablero(intentos) {
  let dibujo = [
    " -------",
    " |     |",
    " |     O",
    " |    /|\\",
    " |     |",
    " |    / \\",
    "-+-"
  ];

  let dibujoFinal = dibujo.slice(0, intentos).join("\n");
  document.getElementById("intentos").innerText = dibujoFinal;

  let palabraMostrada = "";
  for (let letra of palabra) {
    if (letrasAdivinadas.includes(letra) || letra === " ") {
      palabraMostrada += letra + " ";
    } else {
      palabraMostrada += "_ ";
    }
  }
  document.getElementById("palabra").innerText = palabraMostrada;
}

function esLetra(caracter) {
  return /^[a-zA-Z]$/.test(caracter);
}

function letraYaAdivinada(letra) {
  return letrasAdivinadas.includes(letra);
}

function actualizarLetrasAdivinadas(letra) {
  letrasAdivinadas.push(letra);
}

function jugar() {
  let letraUsuario = document.getElementById("letra").value.toLowerCase();

  if (!esLetra(letraUsuario)) {
    alert("Entrada inválida. Ingresa una letra.");
    return;
  }

  if (letraYaAdivinada(letraUsuario)) {
    alert("¡Ya has intentado con esa letra! Prueba otra.");
    return;
  }

  if (palabra.includes(letraUsuario)) {
    actualizarLetrasAdivinadas(letraUsuario);
    alert("¡Bien! '" + letraUsuario + "' está en la palabra.");
  } else {
    intentos++;
    alert("¡'" + letraUsuario + "' no está en la palabra!");
  }

  mostrarTablero(intentos);

  if (intentos === 6 || palabraCompleta()) {
    juegoTerminado = true;
    let mensaje = intentos === 6 ? "¡Oh no! ¡Has perdido!" : "¡Felicidades! ¡Has ganado!";
    alert(mensaje);
  }
}

function palabraCompleta() {
  return palabra.split('').every(letra => letrasAdivinadas.includes(letra) || letra === " ");
}

function reiniciar() {
  letrasAdivinadas = [];
  intentos = 0;
  juegoTerminado = false;
  mostrarTablero(intentos);
}
mostrarTablero(intentos);
</script>

</body>
</html>
